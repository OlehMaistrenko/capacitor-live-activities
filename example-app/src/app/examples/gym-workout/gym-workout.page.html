<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Gym - Strength Training</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Gym</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="content-container">
    <!-- Main Card -->
    <ion-card class="main-card">
      <ion-card-header>
        <ion-card-title class="card-title">
          <span class="title-icon">ðŸ’ª</span>
          Strength Training
        </ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <p class="description">
          Track your workout with a Live Activity that shows the current exercise, segmented progress, and the next
          exercise.
        </p>

        <!-- Features -->
        <div class="features">
          <div class="feature">
            <fa-icon icon="dumbbell" />
            <div class="feature-info">
              <strong>Complete Exercises</strong>
              <p>6 full strength training exercises</p>
            </div>
          </div>

          <div class="feature">
            <fa-icon icon="stopwatch" />
            <div class="feature-info">
              <strong>Real-time Progress</strong>
              <p>Live tracking with segmented progress</p>
            </div>
          </div>

          <div class="feature">
            <fa-icon icon="running" />
            <div class="feature-info">
              <strong>Muscles Worked</strong>
              <p>Targeted muscle group information</p>
            </div>
          </div>
        </div>

        <!-- Controls -->
        <div class="controls">
          <ion-button expand="block" size="large" (click)="startGymWorkout()" [disabled]="currentActivityId !== null">
            <fa-icon icon="play-circle" slot="start" />
            Start Workout
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Control Card (only show if activity is active) -->
    @if (currentActivityId) {
    <ion-card class="control-card">
      <ion-card-header>
        <ion-card-title class="control-title">Workout Control</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <div class="control-buttons">
          <ion-button fill="outline" size="default" (click)="nextExercise()">
            <fa-icon icon="refresh" slot="start" />
            Next Exercise
          </ion-button>

          <ion-button fill="solid" color="success" size="default" (click)="completeWorkout()">
            <fa-icon icon="circle-check" slot="start" />
            Complete Workout
          </ion-button>

          <ion-button fill="clear" color="danger" size="default" (click)="endWorkout()">
            <fa-icon icon="stop-circle" slot="start" />
            Stop
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
    }

    <!-- Exercise List Preview -->
    <ion-card class="exercise-list-card">
      <ion-card-header>
        <ion-card-title class="list-title">Workout Exercises</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-list lines="none" class="exercise-list">
          <ion-item class="exercise-item">
            <fa-icon icon="dumbbell" slot="start" color="primary"></fa-icon>
            <ion-label>
              <h3>Flat Bench Press</h3>
              <p>4x12 â€¢ Chest</p>
            </ion-label>
          </ion-item>

          <ion-item class="exercise-item">
            <fa-icon icon="dumbbell" slot="start" color="primary"></fa-icon>
            <ion-label>
              <h3>Bent-Over Row</h3>
              <p>4x10 â€¢ Back</p>
            </ion-label>
          </ion-item>

          <ion-item class="exercise-item">
            <fa-icon icon="dumbbell" slot="start" color="primary"></fa-icon>
            <ion-label>
              <h3>Squat</h3>
              <p>3x15 â€¢ Legs</p>
            </ion-label>
          </ion-item>

          <ion-item class="exercise-item">
            <fa-icon icon="dumbbell" slot="start" color="primary"></fa-icon>
            <ion-label>
              <h3>Overhead Press</h3>
              <p>3x12 â€¢ Shoulders</p>
            </ion-label>
          </ion-item>

          <ion-item class="exercise-item">
            <fa-icon icon="dumbbell" slot="start" color="primary"></fa-icon>
            <ion-label>
              <h3>Bicep Curl</h3>
              <p>3x12 â€¢ Biceps</p>
            </ion-label>
          </ion-item>

          <ion-item class="exercise-item">
            <fa-icon icon="dumbbell" slot="start" color="primary"></fa-icon>
            <ion-label>
              <h3>Tricep Extension</h3>
              <p>3x12 â€¢ Triceps</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
